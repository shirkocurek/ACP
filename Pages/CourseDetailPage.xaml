<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="c971_mobile_application_development_using_c_sharp.Pages.CourseDetailPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:c971_mobile_application_development_using_c_sharp.Controls"
    Title="{Binding Course.Title}">
    <Shell.TabBarIsVisible>false</Shell.TabBarIsVisible>

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Edit Course"
                Command="{Binding EditCourseCommand}"/>
    </ContentPage.ToolbarItems>

    <Grid RowDefinitions="*,Auto"
            Padding="{OnPlatform iOS='0,0,0,12', Android='0'}">

        <ScrollView Grid.Row="0">
            <VerticalStackLayout Padding="16"
                    Spacing="12">

                <Frame Padding="12">
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Course overview"
                                FontAttributes="Bold"/>
                        <Label Text="{Binding Course.Title, StringFormat='Name: {0}'}"/>
                        <Label Text="{Binding Course.StartDate, StringFormat='Start: {0:d}'}"/>
                        <Label Text="{Binding Course.EndDate,   StringFormat='End:   {0:d}'}"/>
                        <Label Text="{Binding Course.Status,     StringFormat='Status: {0}'}"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame Padding="12">
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Instructor information"
                                FontAttributes="Bold"/>
                        <Label Text="{Binding Course.InstructorName,  StringFormat='Name: {0}'}"/>
                        <Label Text="{Binding Course.InstructorPhone, StringFormat='Phone: {0}'}"/>
                        <Label Text="{Binding Course.InstructorEmail, StringFormat='Email: {0}'}"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame Padding="12">
                    <VerticalStackLayout Spacing="12">
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Text="Assessments"
                                    FontAttributes="Bold"/>
                            <Button Grid.Column="1"
                                    Text="Manage"
                                    Command="{Binding ManageAssessmentsCommand}"/>
                        </Grid>

                        <!-- Objective -->
                        <Frame Padding="10"
                                CornerRadius="14">
                            <VerticalStackLayout>
                                <Label Text="Objective"
                                        FontAttributes="Bold"/>
                                <Label Text="{Binding Objective.Title, TargetNullValue='(not set)'}"/>
                                <Label Text="{Binding Objective.StartDate, StringFormat='Start: {0:d}', TargetNullValue='Start: —'}"/>
                                <Label Text="{Binding Objective.EndDate,   StringFormat='Due:   {0:d}', TargetNullValue='Due: —'}"/>
                                <Label Text="{Binding Objective.Status,    StringFormat='Status: {0}', TargetNullValue='Status: —'}"/>
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Performance -->
                        <Frame Padding="10"
                                CornerRadius="14">
                            <VerticalStackLayout>
                                <Label Text="Performance"
                                        FontAttributes="Bold"/>
                                <Label Text="{Binding Performance.Title, TargetNullValue='(not set)'}"/>
                                <Label Text="{Binding Performance.StartDate, StringFormat='Start: {0:d}', TargetNullValue='Start: —'}"/>
                                <Label Text="{Binding Performance.EndDate,   StringFormat='Due:   {0:d}', TargetNullValue='Due: —'}"/>
                                <Label Text="{Binding Performance.Status,    StringFormat='Status: {0}', TargetNullValue='Status: —'}"/>
                            </VerticalStackLayout>
                        </Frame>
                    </VerticalStackLayout>
                </Frame>

                <Frame Padding="12">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Course Notes"
                                FontAttributes="Bold"/>
                        <Label Text="{Binding Course.Notes}"/>
                        <Button Text="Share"
                                Command="{Binding ShareNotesCommand}"/>
                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>

        <controls:BottomNavBar Grid.Row="1"/>
    </Grid>
</ContentPage>
